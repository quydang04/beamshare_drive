{"version":3,"file":"container.mjs","sources":["../../../../../../../../node_modules/.pnpm/epubjs@0.3.93/node_modules/epubjs/src/container.js"],"sourcesContent":["import path from \"path-webpack\";\nimport {qs} from \"./utils/core\";\n\n/**\n * Handles Parsing and Accessing an Epub Container\n * @class\n * @param {document} [containerDocument] xml document\n */\nclass Container {\n\tconstructor(containerDocument) {\n\t\tthis.packagePath = '';\n\t\tthis.directory = '';\n\t\tthis.encoding = '';\n\n\t\tif (containerDocument) {\n\t\t\tthis.parse(containerDocument);\n\t\t}\n\t}\n\n\t/**\n\t * Parse the Container XML\n\t * @param  {document} containerDocument\n\t */\n\tparse(containerDocument){\n\t\t//-- <rootfile full-path=\"OPS/package.opf\" media-type=\"application/oebps-package+xml\"/>\n\t\tvar rootfile;\n\n\t\tif(!containerDocument) {\n\t\t\tthrow new Error(\"Container File Not Found\");\n\t\t}\n\n\t\trootfile = qs(containerDocument, \"rootfile\");\n\n\t\tif(!rootfile) {\n\t\t\tthrow new Error(\"No RootFile Found\");\n\t\t}\n\n\t\tthis.packagePath = rootfile.getAttribute(\"full-path\");\n\t\tthis.directory = path.dirname(this.packagePath);\n\t\tthis.encoding = containerDocument.xmlEncoding;\n\t}\n\n\tdestroy() {\n\t\tthis.packagePath = undefined;\n\t\tthis.directory = undefined;\n\t\tthis.encoding = undefined;\n\t}\n}\n\nexport default Container;\n"],"names":["Container","containerDocument","rootfile","qs","path"],"mappings":";;AAQA,MAAMA,EAAU;AAAA,EACf,YAAYC,GAAmB;AAC9B,SAAK,cAAc,IACnB,KAAK,YAAY,IACjB,KAAK,WAAW,IAEZA,KACH,KAAK,MAAMA,CAAiB;AAAA,EAE7B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMD,MAAMA,GAAkB;AAEvB,QAAIC;AAEJ,QAAG,CAACD;AACH,YAAM,IAAI,MAAM,0BAA0B;AAK3C,QAFAC,IAAWC,EAAGF,GAAmB,UAAU,GAExC,CAACC;AACH,YAAM,IAAI,MAAM,mBAAmB;AAGpC,SAAK,cAAcA,EAAS,aAAa,WAAW,GACpD,KAAK,YAAYE,EAAK,QAAQ,KAAK,WAAW,GAC9C,KAAK,WAAWH,EAAkB;AAAA,EAClC;AAAA,EAED,UAAU;AACT,SAAK,cAAc,QACnB,KAAK,YAAY,QACjB,KAAK,WAAW;AAAA,EAChB;AACF;","x_google_ignoreList":[0]}
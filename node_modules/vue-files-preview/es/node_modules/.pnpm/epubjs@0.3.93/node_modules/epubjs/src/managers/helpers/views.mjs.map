{"version":3,"file":"views.mjs","sources":["../../../../../../../../../../node_modules/.pnpm/epubjs@0.3.93/node_modules/epubjs/src/managers/helpers/views.js"],"sourcesContent":["class Views {\n\tconstructor(container) {\n\t\tthis.container = container;\n\t\tthis._views = [];\n\t\tthis.length = 0;\n\t\tthis.hidden = false;\n\t}\n\n\tall() {\n\t\treturn this._views;\n\t}\n\n\tfirst() {\n\t\treturn this._views[0];\n\t}\n\n\tlast() {\n\t\treturn this._views[this._views.length-1];\n\t}\n\n\tindexOf(view) {\n\t\treturn this._views.indexOf(view);\n\t}\n\n\tslice() {\n\t\treturn this._views.slice.apply(this._views, arguments);\n\t}\n\n\tget(i) {\n\t\treturn this._views[i];\n\t}\n\n\tappend(view){\n\t\tthis._views.push(view);\n\t\tif(this.container){\n\t\t\tthis.container.appendChild(view.element);\n\t\t}\n\t\tthis.length++;\n\t\treturn view;\n\t}\n\n\tprepend(view){\n\t\tthis._views.unshift(view);\n\t\tif(this.container){\n\t\t\tthis.container.insertBefore(view.element, this.container.firstChild);\n\t\t}\n\t\tthis.length++;\n\t\treturn view;\n\t}\n\n\tinsert(view, index) {\n\t\tthis._views.splice(index, 0, view);\n\n\t\tif(this.container){\n\t\t\tif(index < this.container.children.length){\n\t\t\t\tthis.container.insertBefore(view.element, this.container.children[index]);\n\t\t\t} else {\n\t\t\t\tthis.container.appendChild(view.element);\n\t\t\t}\n\t\t}\n\n\t\tthis.length++;\n\t\treturn view;\n\t}\n\n\tremove(view) {\n\t\tvar index = this._views.indexOf(view);\n\n\t\tif(index > -1) {\n\t\t\tthis._views.splice(index, 1);\n\t\t}\n\n\n\t\tthis.destroy(view);\n\n\t\tthis.length--;\n\t}\n\n\tdestroy(view) {\n\t\tif(view.displayed){\n\t\t\tview.destroy();\n\t\t}\n\t\t\n\t\tif(this.container){\n\t\t\t this.container.removeChild(view.element);\n\t\t}\n\t\tview = null;\n\t}\n\n\t// Iterators\n\n\tforEach() {\n\t\treturn this._views.forEach.apply(this._views, arguments);\n\t}\n\n\tclear(){\n\t\t// Remove all views\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tif(!this.length) return;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tthis.destroy(view);\n\t\t}\n\n\t\tthis._views = [];\n\t\tthis.length = 0;\n\t}\n\n\tfind(section){\n\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed && view.section.index == section.index) {\n\t\t\t\treturn view;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tdisplayed(){\n\t\tvar displayed = [];\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed){\n\t\t\t\tdisplayed.push(view);\n\t\t\t}\n\t\t}\n\t\treturn displayed;\n\t}\n\n\tshow(){\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed){\n\t\t\t\tview.show();\n\t\t\t}\n\t\t}\n\t\tthis.hidden = false;\n\t}\n\n\thide(){\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed){\n\t\t\t\tview.hide();\n\t\t\t}\n\t\t}\n\t\tthis.hidden = true;\n\t}\n}\n\nexport default Views;\n"],"names":["Views","container","view","i","index","len","section","displayed"],"mappings":"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","x_google_ignoreList":[0]}
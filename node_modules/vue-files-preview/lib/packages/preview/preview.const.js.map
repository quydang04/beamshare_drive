{"version":3,"file":"preview.const.js","sources":["../../../../packages/preview/preview.const.ts"],"sourcesContent":["import DocxPreview from './supports/docx-preview/index'\nimport XlsxPreview from './supports/xlsx-preview/index'\nimport PdfPreview from './supports/pdf-preview/index'\nimport PicPreview from './supports/pic-preview/index'\nimport TxtPreview from './supports/txt-preview/index'\nimport CodePreview from './supports/code-preview/index'\nimport MdPreview from './supports/md-preview/index'\nimport EpubPreview from './supports/epub-preview/index'\nimport AudioPreview from './supports/audio-preview/index'\nimport VideoPreview from './supports/video-preview/index'\nimport type {IPreviewRule} from './preview.interface'\nimport {PreviewType} from './preview.interface'\n\nexport const textFilePreviewTypeList = [PreviewType.CODE, PreviewType.TXT, PreviewType.MD]\nexport const arrayBufferPreviewTypeList = [PreviewType.DOC, PreviewType.DOCX, PreviewType.XLSX, PreviewType.PPT, PreviewType.EPUB]\nexport const imagePreviewTypeList = [PreviewType.PIC, PreviewType.AUDIO]\nexport const pdfPreviewTypeList = [PreviewType.PDF]\nexport const videoPreviewTypeList = [PreviewType.VIDEO]\n\nexport const PreviewRules: Record<PreviewType, IPreviewRule> = {\n    [PreviewType.NONE]: {\n        name: '',\n        component: void 0,\n        type: PreviewType.NONE,\n        accept: [],\n    },\n    [PreviewType.CODE]: {\n        name: '',\n        component: CodePreview,\n        type: PreviewType.CODE,\n        accept: ['html', 'css', 'less', 'scss', 'js', 'json', 'ts', 'vue', 'c', 'cpp', 'java', 'py', 'go', 'php', 'lua', 'rb', 'pl', 'swift', 'vb', 'cs', 'sh', 'rs', 'vim', 'log', 'lock', 'swift', 'mod', 'mht', 'mhtml', 'xml'],\n    },\n    [PreviewType.DOC]: {\n        name: '',\n        component: void 0,\n        type: PreviewType.DOC,\n        accept: ['doc', 'docm', 'dot', 'dotm', 'dotx', 'fodt', 'mht', 'odt', 'ott', 'rtf', 'djvu', 'xps'],\n    },\n    [PreviewType.DOCX]: {\n        name: '',\n        component: DocxPreview,\n        type: PreviewType.DOCX,\n        accept: ['docx'],\n    },\n    [PreviewType.XLSX]: {\n        name: '',\n        component: XlsxPreview,\n        type: PreviewType.XLSX,\n        accept: ['xlsx', 'xls', 'csv', 'fods', 'ods', 'ots', 'xlsm', 'xlt', 'xltm'],\n    },\n    // ppt: presentation\n    [PreviewType.PPT]: {\n        name: '',\n        component: void 0,\n        type: PreviewType.PPT,\n        accept: ['ppt', 'pptx', 'fodp', 'odp', 'otp', 'pot', 'potm', 'potx', 'pps', 'ppsm', 'ppsx', 'pptm'],\n    },\n    [PreviewType.PDF]: {\n        name: '',\n        component: PdfPreview,\n        type: PreviewType.PDF,\n        accept: ['pdf'],\n    },\n    [PreviewType.EPUB]: {\n        name: '',\n        component: EpubPreview,\n        type: PreviewType.EPUB,\n        accept: ['epub'],\n    },\n    [PreviewType.MD]: {\n        name: '',\n        component: MdPreview,\n        type: PreviewType.MD,\n        accept: ['md'],\n    },\n    [PreviewType.PIC]: {\n        name: '',\n        component: PicPreview,\n        type: PreviewType.PIC,\n        accept: ['jpg', 'png', 'jpeg', 'webp', 'gif', 'bmp', 'svg', 'ico'],\n    },\n    [PreviewType.TXT]: {\n        name: '',\n        component: TxtPreview,\n        type: PreviewType.TXT,\n        accept: ['txt'],\n    },\n    [PreviewType.AUDIO]: {\n        name: '',\n        component: AudioPreview,\n        type: PreviewType.AUDIO,\n        accept: ['mp3', 'wav', 'wma', 'ogg', 'aac', 'flac'],\n    },\n    [PreviewType.VIDEO]: {\n        name: '',\n        component: VideoPreview,\n        type: PreviewType.VIDEO,\n        accept: ['mp4', 'webm', 'ogg', 'mkv', 'avi', 'mpeg', 'flv', 'mov', 'wmv'],\n    },\n}\n\n/**\n * 根据文件类型获取rule\n * @param type\n */\nexport function getRuleByFileType(type: string): IPreviewRule {\n    return Object.values(PreviewRules).find(cur => cur.accept.includes(type)) ?? PreviewRules[PreviewType.NONE]\n}\n\n/**\n * 根据文件类型获取PreviewType\n * @param type\n */\nexport function getPreviewTypeByFileType(type: string): PreviewType {\n    return getRuleByFileType(type).type\n}\n"],"names":["textFilePreviewTypeList","PreviewType","arrayBufferPreviewTypeList","imagePreviewTypeList","pdfPreviewTypeList","videoPreviewTypeList","PreviewRules","CodePreview","DocxPreview","XlsxPreview","PdfPreview","EpubPreview","MdPreview","PicPreview","TxtPreview","AudioPreview","VideoPreview","getRuleByFileType","type","cur","getPreviewTypeByFileType"],"mappings":"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"}
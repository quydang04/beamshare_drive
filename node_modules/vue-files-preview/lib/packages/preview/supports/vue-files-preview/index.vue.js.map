{"version":3,"file":"index.vue.js","sources":["../../../../../../packages/preview/supports/vue-files-preview/index.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport { watch } from 'vue'\nimport { PreviewRules, getPreviewTypeByFileType } from '../../preview.const'\nimport type { IPreviewRule, PreviewProps } from '../../preview.interface'\nimport { PreviewType } from '../../preview.interface'\nimport { getFileName, getFileType } from '../../utils/utils'\n\nconst props = withDefaults(\n  defineProps<PreviewProps & {\n    width?: string\n    height?: string\n    overflow?: string\n  }>(),\n  {\n    file: () => null,\n    url: () => null,\n    width: () => '100%',\n    height: () => '100%',\n    overflow: () => 'auto',\n  },\n)\n\nconst currentPreview = shallowRef<IPreviewRule>(PreviewRules[PreviewType.NONE])\n\nfunction syncPreview(file: File): void {\n  const preview = PreviewRules[getPreviewTypeByFileType(getFileType(file))]\n  if (preview) {\n    preview.name = getFileName(file)\n    currentPreview.value = preview\n  }\n}\n\nwatch(\n  () => props.file,\n  (file) => {\n    if (file) {\n      syncPreview(file)\n    }\n  },\n  { immediate: true },\n)\n</script>\n\n<template>\n  <div class=\"vue-files-preview\" :style=\"{ width, height, overflow }\">\n    <component :is=\"currentPreview.component\" :name=\"currentPreview.name\" :file=\"file\" :url=\"url\" />\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n"],"names":["props","__props","currentPreview","shallowRef","PreviewRules","PreviewType","syncPreview","file","preview","getPreviewTypeByFileType","getFileType","getFileName","watch"],"mappings":"mVAOA,MAAMA,EAAQC,EAeRC,EAAiBC,EAAAA,WAAyBC,EAAAA,aAAaC,EAAAA,YAAY,IAAI,CAAC,EAE9E,SAASC,EAAYC,EAAkB,CACrC,MAAMC,EAAUJ,EAAAA,aAAaK,EAAAA,yBAAyBC,EAAAA,YAAYH,CAAI,CAAC,CAAC,EACpEC,IACMA,EAAA,KAAOG,cAAYJ,CAAI,EAC/BL,EAAe,MAAQM,EAE3B,CAEAI,OAAAA,EAAA,MACE,IAAMZ,EAAM,KACXO,GAAS,CACJA,GACFD,EAAYC,CAAI,CAEpB,EACA,CAAE,UAAW,EAAK,CAAA"}
{"version":3,"file":"views.js","sources":["../../../../../../../../../../node_modules/.pnpm/epubjs@0.3.93/node_modules/epubjs/src/managers/helpers/views.js"],"sourcesContent":["class Views {\n\tconstructor(container) {\n\t\tthis.container = container;\n\t\tthis._views = [];\n\t\tthis.length = 0;\n\t\tthis.hidden = false;\n\t}\n\n\tall() {\n\t\treturn this._views;\n\t}\n\n\tfirst() {\n\t\treturn this._views[0];\n\t}\n\n\tlast() {\n\t\treturn this._views[this._views.length-1];\n\t}\n\n\tindexOf(view) {\n\t\treturn this._views.indexOf(view);\n\t}\n\n\tslice() {\n\t\treturn this._views.slice.apply(this._views, arguments);\n\t}\n\n\tget(i) {\n\t\treturn this._views[i];\n\t}\n\n\tappend(view){\n\t\tthis._views.push(view);\n\t\tif(this.container){\n\t\t\tthis.container.appendChild(view.element);\n\t\t}\n\t\tthis.length++;\n\t\treturn view;\n\t}\n\n\tprepend(view){\n\t\tthis._views.unshift(view);\n\t\tif(this.container){\n\t\t\tthis.container.insertBefore(view.element, this.container.firstChild);\n\t\t}\n\t\tthis.length++;\n\t\treturn view;\n\t}\n\n\tinsert(view, index) {\n\t\tthis._views.splice(index, 0, view);\n\n\t\tif(this.container){\n\t\t\tif(index < this.container.children.length){\n\t\t\t\tthis.container.insertBefore(view.element, this.container.children[index]);\n\t\t\t} else {\n\t\t\t\tthis.container.appendChild(view.element);\n\t\t\t}\n\t\t}\n\n\t\tthis.length++;\n\t\treturn view;\n\t}\n\n\tremove(view) {\n\t\tvar index = this._views.indexOf(view);\n\n\t\tif(index > -1) {\n\t\t\tthis._views.splice(index, 1);\n\t\t}\n\n\n\t\tthis.destroy(view);\n\n\t\tthis.length--;\n\t}\n\n\tdestroy(view) {\n\t\tif(view.displayed){\n\t\t\tview.destroy();\n\t\t}\n\t\t\n\t\tif(this.container){\n\t\t\t this.container.removeChild(view.element);\n\t\t}\n\t\tview = null;\n\t}\n\n\t// Iterators\n\n\tforEach() {\n\t\treturn this._views.forEach.apply(this._views, arguments);\n\t}\n\n\tclear(){\n\t\t// Remove all views\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tif(!this.length) return;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tthis.destroy(view);\n\t\t}\n\n\t\tthis._views = [];\n\t\tthis.length = 0;\n\t}\n\n\tfind(section){\n\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed && view.section.index == section.index) {\n\t\t\t\treturn view;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tdisplayed(){\n\t\tvar displayed = [];\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed){\n\t\t\t\tdisplayed.push(view);\n\t\t\t}\n\t\t}\n\t\treturn displayed;\n\t}\n\n\tshow(){\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed){\n\t\t\t\tview.show();\n\t\t\t}\n\t\t}\n\t\tthis.hidden = false;\n\t}\n\n\thide(){\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed){\n\t\t\t\tview.hide();\n\t\t\t}\n\t\t}\n\t\tthis.hidden = true;\n\t}\n}\n\nexport default Views;\n"],"names":["Views","container","view","i","index","len","section","displayed"],"mappings":"aAAA,MAAMA,CAAM,CACX,YAAYC,EAAW,CACtB,KAAK,UAAYA,EACjB,KAAK,OAAS,GACd,KAAK,OAAS,EACd,KAAK,OAAS,EACd,CAED,KAAM,CACL,OAAO,KAAK,MACZ,CAED,OAAQ,CACP,OAAO,KAAK,OAAO,CAAC,CACpB,CAED,MAAO,CACN,OAAO,KAAK,OAAO,KAAK,OAAO,OAAO,CAAC,CACvC,CAED,QAAQC,EAAM,CACb,OAAO,KAAK,OAAO,QAAQA,CAAI,CAC/B,CAED,OAAQ,CACP,OAAO,KAAK,OAAO,MAAM,MAAM,KAAK,OAAQ,SAAS,CACrD,CAED,IAAIC,EAAG,CACN,OAAO,KAAK,OAAOA,CAAC,CACpB,CAED,OAAOD,EAAK,CACX,YAAK,OAAO,KAAKA,CAAI,EAClB,KAAK,WACP,KAAK,UAAU,YAAYA,EAAK,OAAO,EAExC,KAAK,SACEA,CACP,CAED,QAAQA,EAAK,CACZ,YAAK,OAAO,QAAQA,CAAI,EACrB,KAAK,WACP,KAAK,UAAU,aAAaA,EAAK,QAAS,KAAK,UAAU,UAAU,EAEpE,KAAK,SACEA,CACP,CAED,OAAOA,EAAME,EAAO,CACnB,YAAK,OAAO,OAAOA,EAAO,EAAGF,CAAI,EAE9B,KAAK,YACJE,EAAQ,KAAK,UAAU,SAAS,OAClC,KAAK,UAAU,aAAaF,EAAK,QAAS,KAAK,UAAU,SAASE,CAAK,CAAC,EAExE,KAAK,UAAU,YAAYF,EAAK,OAAO,GAIzC,KAAK,SACEA,CACP,CAED,OAAOA,EAAM,CACZ,IAAIE,EAAQ,KAAK,OAAO,QAAQF,CAAI,EAEjCE,EAAQ,IACV,KAAK,OAAO,OAAOA,EAAO,CAAC,EAI5B,KAAK,QAAQF,CAAI,EAEjB,KAAK,QACL,CAED,QAAQA,EAAM,CACVA,EAAK,WACPA,EAAK,QAAO,EAGV,KAAK,WACN,KAAK,UAAU,YAAYA,EAAK,OAAO,EAEzCA,EAAO,IACP,CAID,SAAU,CACT,OAAO,KAAK,OAAO,QAAQ,MAAM,KAAK,OAAQ,SAAS,CACvD,CAED,OAAO,CAEN,IAAIA,EACAG,EAAM,KAAK,OAEf,GAAI,KAAK,OAET,SAASF,EAAI,EAAGA,EAAIE,EAAKF,IACxBD,EAAO,KAAK,OAAOC,CAAC,EACpB,KAAK,QAAQD,CAAI,EAGlB,KAAK,OAAS,GACd,KAAK,OAAS,EACd,CAED,KAAKI,EAAQ,CAKZ,QAHIJ,EACAG,EAAM,KAAK,OAENF,EAAI,EAAGA,EAAIE,EAAKF,IAExB,GADAD,EAAO,KAAK,OAAOC,CAAC,EACjBD,EAAK,WAAaA,EAAK,QAAQ,OAASI,EAAQ,MAClD,OAAOJ,CAIT,CAED,WAAW,CAKV,QAJIK,EAAY,CAAA,EACZL,EACAG,EAAM,KAAK,OAENF,EAAI,EAAGA,EAAIE,EAAKF,IACxBD,EAAO,KAAK,OAAOC,CAAC,EACjBD,EAAK,WACPK,EAAU,KAAKL,CAAI,EAGrB,OAAOK,CACP,CAED,MAAM,CAIL,QAHIL,EACAG,EAAM,KAAK,OAENF,EAAI,EAAGA,EAAIE,EAAKF,IACxBD,EAAO,KAAK,OAAOC,CAAC,EACjBD,EAAK,WACPA,EAAK,KAAI,EAGX,KAAK,OAAS,EACd,CAED,MAAM,CAIL,QAHIA,EACAG,EAAM,KAAK,OAENF,EAAI,EAAGA,EAAIE,EAAKF,IACxBD,EAAO,KAAK,OAAOC,CAAC,EACjBD,EAAK,WACPA,EAAK,KAAI,EAGX,KAAK,OAAS,EACd,CACF","x_google_ignoreList":[0]}
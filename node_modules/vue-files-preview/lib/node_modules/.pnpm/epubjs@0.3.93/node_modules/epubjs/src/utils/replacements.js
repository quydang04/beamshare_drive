"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("./core.js"),h=require("./url.js");function b(r,i){var t,e,a=i.url,c=a.indexOf("://")>-1;r&&(e=s.qs(r,"head"),t=s.qs(e,"base"),t||(t=r.createElement("base"),e.insertBefore(t,e.firstChild)),!c&&window&&window.location&&(a=window.location.origin+a),t.setAttribute("href",a))}function d(r,i){var t,e,a=i.canonical;r&&(t=s.qs(r,"head"),e=s.qs(t,"link[rel='canonical']"),e?e.setAttribute("href",a):(e=r.createElement("link"),e.setAttribute("rel","canonical"),e.setAttribute("href",a),t.appendChild(e)))}function p(r,i){var t,e,a=i.idref;r&&(t=s.qs(r,"head"),e=s.qs(t,"link[property='dc.identifier']"),e?e.setAttribute("content",a):(e=r.createElement("meta"),e.setAttribute("name","dc.identifier"),e.setAttribute("content",a),t.appendChild(e)))}function v(r,i){var t=r.querySelectorAll("a[href]");if(t.length)for(var e=s.qs(r.ownerDocument,"base"),a=e?e.getAttribute("href"):void 0,c=(function(l){var u=l.getAttribute("href");if(u.indexOf("mailto:")!==0){var o=u.indexOf("://")>-1;if(o)l.setAttribute("target","_blank");else{var n;try{n=new h(u,a)}catch{}l.onclick=function(){return n&&n.hash?i(n.Path.path+n.hash):i(n?n.Path.path:u),!1}}}}).bind(this),f=0;f<t.length;f++)c(t[f])}function g(r,i,t){return i.forEach(function(e,a){e&&t[a]&&(e=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),r=r.replace(new RegExp(e,"g"),t[a]))}),r}exports.replaceBase=b;exports.replaceCanonical=d;exports.replaceLinks=v;exports.replaceMeta=p;exports.substitute=g;
//# sourceMappingURL=replacements.js.map

"use strict";function k(o){const r={},i=o.length;if(!i)return;let n=0,a=-2;const c=[];for(let l=0;l<i;l++){const e=o[l];if(c.push(0),(o[n].marker!==e.marker||a!==e.token-1)&&(n=l),a=e.token,e.length=e.length||0,!e.close)continue;r.hasOwnProperty(e.marker)||(r[e.marker]=[-1,-1,-1,-1,-1,-1]);const h=r[e.marker][(e.open?3:0)+e.length%3];let t=n-c[n]-1,f=t;for(;t>h;t-=c[t]+1){const s=o[t];if(s.marker===e.marker&&s.open&&s.end<0){let p=!1;if((s.close||e.open)&&(s.length+e.length)%3===0&&(s.length%3!==0||e.length%3!==0)&&(p=!0),!p){const m=t>0&&!o[t-1].open?c[t-1]+1:0;c[l]=l-t+m,c[t]=m,e.open=!1,s.end=l,s.close=!1,f=-1,a=-2;break}}}f!==-1&&(r[e.marker][(e.open?3:0)+(e.length||0)%3]=f)}}function u(o){const r=o.tokens_meta,i=o.tokens_meta.length;k(o.delimiters);for(let n=0;n<i;n++)r[n]&&r[n].delimiters&&k(r[n].delimiters)}module.exports=u;
//# sourceMappingURL=balance_pairs.js.map

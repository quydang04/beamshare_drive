"use strict";const f=require("./ruler.js"),k=require("./rules_block/state_block.js"),q=require("./rules_block/table.js"),b=require("./rules_block/code.js"),g=require("./rules_block/fence.js"),m=require("./rules_block/blockquote.js"),d=require("./rules_block/hr.js"),w=require("./rules_block/list.js"),y=require("./rules_block/reference.js"),E=require("./rules_block/html_block.js"),x=require("./rules_block/heading.js"),_=require("./rules_block/lheading.js"),v=require("./rules_block/paragraph.js"),t=[["table",q,["paragraph","reference"]],["code",b],["fence",g,["paragraph","reference","blockquote","list"]],["blockquote",m,["paragraph","reference","blockquote","list"]],["hr",d,["paragraph","reference","blockquote","list"]],["list",w,["paragraph","reference","blockquote"]],["reference",y],["html_block",E,["paragraph","reference","blockquote"]],["heading",x,["paragraph","reference","blockquote"]],["lheading",_],["paragraph",v]];function l(){this.ruler=new f;for(let e=0;e<t.length;e++)this.ruler.push(t[e][0],t[e][1],{alt:(t[e][2]||[]).slice()})}l.prototype.tokenize=function(e,c,n){const i=this.ruler.getRules(""),o=i.length,p=e.md.options.maxNesting;let r=c,s=!1;for(;r<n&&(e.line=r=e.skipEmptyLines(r),!(r>=n||e.sCount[r]<e.blkIndent));){if(e.level>=p){e.line=n;break}const h=e.line;let u=!1;for(let a=0;a<o;a++)if(u=i[a](e,r,n,!1),u){if(h>=e.line)throw new Error("block rule didn't increment state.line");break}if(!u)throw new Error("none of the block rules matched");e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),r=e.line,r<n&&e.isEmpty(r)&&(s=!0,r++,e.line=r)}};l.prototype.parse=function(e,c,n,i){if(!e)return;const o=new this.State(e,c,n,i);this.tokenize(o,o.line,o.lineMax)};l.prototype.State=k;module.exports=l;
//# sourceMappingURL=parser_block.js.map

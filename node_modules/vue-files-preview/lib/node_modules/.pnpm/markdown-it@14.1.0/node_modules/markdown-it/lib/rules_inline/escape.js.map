{"version":3,"file":"escape.js","sources":["../../../../../../../../../node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/escape.mjs"],"sourcesContent":["// Process escaped chars and hardbreaks\n\nimport { isSpace } from '../common/utils.mjs'\n\nconst ESCAPED = []\n\nfor (let i = 0; i < 256; i++) { ESCAPED.push(0) }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function (ch) { ESCAPED[ch.charCodeAt(0)] = 1 })\n\nexport default function escape (state, silent) {\n  let pos = state.pos\n  const max = state.posMax\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) return false\n  pos++\n\n  // '\\' at the end of the inline block\n  if (pos >= max) return false\n\n  let ch1 = state.src.charCodeAt(pos)\n\n  if (ch1 === 0x0A) {\n    if (!silent) {\n      state.push('hardbreak', 'br', 0)\n    }\n\n    pos++\n    // skip leading whitespaces from next line\n    while (pos < max) {\n      ch1 = state.src.charCodeAt(pos)\n      if (!isSpace(ch1)) break\n      pos++\n    }\n\n    state.pos = pos\n    return true\n  }\n\n  let escapedStr = state.src[pos]\n\n  if (ch1 >= 0xD800 && ch1 <= 0xDBFF && pos + 1 < max) {\n    const ch2 = state.src.charCodeAt(pos + 1)\n\n    if (ch2 >= 0xDC00 && ch2 <= 0xDFFF) {\n      escapedStr += state.src[pos + 1]\n      pos++\n    }\n  }\n\n  const origStr = '\\\\' + escapedStr\n\n  if (!silent) {\n    const token = state.push('text_special', '', 0)\n\n    if (ch1 < 256 && ESCAPED[ch1] !== 0) {\n      token.content = escapedStr\n    } else {\n      token.content = origStr\n    }\n\n    token.markup = origStr\n    token.info   = 'escape'\n  }\n\n  state.pos = pos + 1\n  return true\n}\n"],"names":["ESCAPED","i","ch","escape","state","silent","pos","max","ch1","isSpace","escapedStr","ch2","origStr","token"],"mappings":"mDAIMA,EAAU,CAAE,EAElB,QAASC,EAAI,EAAGA,EAAI,IAAKA,IAAOD,EAAQ,KAAK,CAAC,EAE9C,qCACG,MAAM,EAAE,EAAE,QAAQ,SAAUE,EAAI,CAAEF,EAAQE,EAAG,WAAW,CAAC,CAAC,EAAI,CAAC,CAAE,EAErD,SAASC,EAAQC,EAAOC,EAAQ,CAC7C,IAAIC,EAAMF,EAAM,IAChB,MAAMG,EAAMH,EAAM,OAMlB,GAJIA,EAAM,IAAI,WAAWE,CAAG,IAAM,KAClCA,IAGIA,GAAOC,GAAK,MAAO,GAEvB,IAAIC,EAAMJ,EAAM,IAAI,WAAWE,CAAG,EAElC,GAAIE,IAAQ,GAAM,CAOhB,IANKH,GACHD,EAAM,KAAK,YAAa,KAAM,CAAC,EAGjCE,IAEOA,EAAMC,IACXC,EAAMJ,EAAM,IAAI,WAAWE,CAAG,EAC1B,EAACG,EAAAA,QAAQD,CAAG,IAChBF,IAGF,OAAAF,EAAM,IAAME,EACL,EACR,CAED,IAAII,EAAaN,EAAM,IAAIE,CAAG,EAE9B,GAAIE,GAAO,OAAUA,GAAO,OAAUF,EAAM,EAAIC,EAAK,CACnD,MAAMI,EAAMP,EAAM,IAAI,WAAWE,EAAM,CAAC,EAEpCK,GAAO,OAAUA,GAAO,QAC1BD,GAAcN,EAAM,IAAIE,EAAM,CAAC,EAC/BA,IAEH,CAED,MAAMM,EAAU,KAAOF,EAEvB,GAAI,CAACL,EAAQ,CACX,MAAMQ,EAAQT,EAAM,KAAK,eAAgB,GAAI,CAAC,EAE1CI,EAAM,KAAOR,EAAQQ,CAAG,IAAM,EAChCK,EAAM,QAAUH,EAEhBG,EAAM,QAAUD,EAGlBC,EAAM,OAASD,EACfC,EAAM,KAAS,QAChB,CAED,OAAAT,EAAM,IAAME,EAAM,EACX,EACT","x_google_ignoreList":[0]}
"use strict";const s=require("./common/utils.js"),f=require("./helpers/index.js"),d=require("./renderer.js"),p=require("./parser_core.js"),w=require("./parser_block.js"),m=require("./parser_inline.js"),y=require("../../../../linkify-it@5.0.0/node_modules/linkify-it/index.js"),c=require("../../../../mdurl@2.0.0/node_modules/mdurl/lib/decode.js"),k=require("../../../../mdurl@2.0.0/node_modules/mdurl/lib/encode.js"),u=require("../../../../mdurl@2.0.0/node_modules/mdurl/lib/format.js"),a=require("../../../../mdurl@2.0.0/node_modules/mdurl/lib/parse.js"),l=require("../../../../punycode.js@2.3.1/node_modules/punycode.js/punycode.es6.js"),b=require("./presets/default.js"),g=require("./presets/zero.js"),q=require("./presets/commonmark.js"),O={default:b,zero:g,commonmark:q},E=/^(vbscript|javascript|file|data):/,_=/^data:image\/(gif|png|jpeg|webp);/;function A(t){const e=t.trim().toLowerCase();return E.test(e)?_.test(e):!0}const h=["http:","https:","mailto:"];function x(t){const e=a(t,!0);if(e.hostname&&(!e.protocol||h.indexOf(e.protocol)>=0))try{e.hostname=l.default.toASCII(e.hostname)}catch{}return k(u(e))}function I(t){const e=a(t,!0);if(e.hostname&&(!e.protocol||h.indexOf(e.protocol)>=0))try{e.hostname=l.default.toUnicode(e.hostname)}catch{}return c(u(e),c.defaultChars+"%")}function n(t,e){if(!(this instanceof n))return new n(t,e);e||s.isString(t)||(e=t||{},t="default"),this.inline=new m,this.block=new w,this.core=new p,this.renderer=new d,this.linkify=new y,this.validateLink=A,this.normalizeLink=x,this.normalizeLinkText=I,this.utils=s,this.helpers=s.assign({},f),this.options={},this.configure(t),e&&this.set(e)}n.prototype.set=function(t){return s.assign(this.options,t),this};n.prototype.configure=function(t){const e=this;if(s.isString(t)){const r=t;if(t=O[r],!t)throw new Error('Wrong `markdown-it` preset "'+r+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(r){t.components[r].rules&&e[r].ruler.enableOnly(t.components[r].rules),t.components[r].rules2&&e[r].ruler2.enableOnly(t.components[r].rules2)}),this};n.prototype.enable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(o){r=r.concat(this[o].ruler.enable(t,!0))},this),r=r.concat(this.inline.ruler2.enable(t,!0));const i=t.filter(function(o){return r.indexOf(o)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this};n.prototype.disable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(o){r=r.concat(this[o].ruler.disable(t,!0))},this),r=r.concat(this.inline.ruler2.disable(t,!0));const i=t.filter(function(o){return r.indexOf(o)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this};n.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};n.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const r=new this.core.State(t,this,e);return this.core.process(r),r.tokens};n.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};n.prototype.parseInline=function(t,e){const r=new this.core.State(t,this,e);return r.inlineMode=!0,this.core.process(r),r.tokens};n.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};module.exports=n;
//# sourceMappingURL=index.js.map

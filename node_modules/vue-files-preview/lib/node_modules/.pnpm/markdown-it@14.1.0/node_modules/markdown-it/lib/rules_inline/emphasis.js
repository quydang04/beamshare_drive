"use strict";function g(o,t){const c=o.pos,n=o.src.charCodeAt(c);if(t||n!==95&&n!==42)return!1;const e=o.scanDelims(o.pos,n===42);for(let k=0;k<e.length;k++){const s=o.push("text","",0);s.content=String.fromCharCode(n),o.delimiters.push({marker:n,length:e.length,token:o.tokens.length-1,end:-1,open:e.can_open,close:e.can_close})}return o.pos+=e.length,!0}function i(o,t){const c=t.length;for(let n=c-1;n>=0;n--){const e=t[n];if(e.marker!==95&&e.marker!==42||e.end===-1)continue;const k=t[e.end],s=n>0&&t[n-1].end===e.end+1&&t[n-1].marker===e.marker&&t[n-1].token===e.token-1&&t[e.end+1].token===k.token+1,r=String.fromCharCode(e.marker),m=o.tokens[e.token];m.type=s?"strong_open":"em_open",m.tag=s?"strong":"em",m.nesting=1,m.markup=s?r+r:r,m.content="";const p=o.tokens[k.token];p.type=s?"strong_close":"em_close",p.tag=s?"strong":"em",p.nesting=-1,p.markup=s?r+r:r,p.content="",s&&(o.tokens[t[n-1].token].content="",o.tokens[t[e.end+1].token].content="",n--)}}function f(o){const t=o.tokens_meta,c=o.tokens_meta.length;i(o,o.delimiters);for(let n=0;n<c;n++)t[n]&&t[n].delimiters&&i(o,t[n].delimiters)}const h={tokenize:g,postProcess:f};module.exports=h;
//# sourceMappingURL=emphasis.js.map

"use strict";const f=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,k=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function s(n,e){let t=n.pos;if(n.src.charCodeAt(t)!==60)return!1;const a=n.pos,c=n.posMax;for(;;){if(++t>=c)return!1;const r=n.src.charCodeAt(t);if(r===60)return!1;if(r===62)break}const o=n.src.slice(a+1,t);if(k.test(o)){const r=n.md.normalizeLink(o);if(!n.md.validateLink(r))return!1;if(!e){const i=n.push("link_open","a",1);i.attrs=[["href",r]],i.markup="autolink",i.info="auto";const u=n.push("text","",0);u.content=n.md.normalizeLinkText(o);const l=n.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return n.pos+=o.length+2,!0}if(f.test(o)){const r=n.md.normalizeLink("mailto:"+o);if(!n.md.validateLink(r))return!1;if(!e){const i=n.push("link_open","a",1);i.attrs=[["href",r]],i.markup="autolink",i.info="auto";const u=n.push("text","",0);u.content=n.md.normalizeLinkText(o);const l=n.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return n.pos+=o.length+2,!0}return!1}module.exports=s;
//# sourceMappingURL=autolink.js.map

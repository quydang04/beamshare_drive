"use strict";const r=require("../common/utils.js"),f=require("../../../../../entities@4.5.0/node_modules/entities/lib/esm/decode.js"),u=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,d=/^&([a-z][a-z0-9]{1,31});/i;function p(e,s){const n=e.pos,i=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=i)return!1;if(e.src.charCodeAt(n+1)===35){const o=e.src.slice(n).match(u);if(o){if(!s){const t=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),c=e.push("text_special","",0);c.content=r.isValidEntityCode(t)?r.fromCodePoint(t):r.fromCodePoint(65533),c.markup=o[0],c.info="entity"}return e.pos+=o[0].length,!0}}else{const o=e.src.slice(n).match(d);if(o){const t=f.decodeHTML(o[0]);if(t!==o[0]){if(!s){const c=e.push("text_special","",0);c.content=t,c.markup=o[0],c.info="entity"}return e.pos+=o[0].length,!0}}}return!1}module.exports=p;
//# sourceMappingURL=entity.js.map
